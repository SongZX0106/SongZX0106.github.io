---
title: uni-app开发微信小程序实现文件预览
date: 2022-6-24 14:10:51
tags: 小程序
categories: 微信开发
---


## uni-app开发微信小程序实现文件预览

首先要在小程序后台配置 downloadFile 合法域名

![Snipaste_2022-06-24_13-59-50.png](https://szx-bucket1.fsh.bcebos.com/images/Snipaste_2022-06-24_13-59-50.png)

然后使用 uni.downloadFile 实现文件预览，代码如下

```js
uni.downloadFile({
    url: "你要预览的文件地址", 
    success: (res) => {
        if (res.statusCode === 200) {
            // 使用uni.saveFile获取文件临时路径
            uni.saveFile({
                tempFilePath: res.tempFilePath,
                success: function (save) {
                    // 自动打开手机预览文件页面
                    uni.openDocument({
                        filePath: save.savedFilePath,
                        success: function (open) {
                            // 打开文件成功
                            console.log(open)
                        }
                    })
                }
            })
        }
    }
})
```



